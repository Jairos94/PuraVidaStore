<div class="my-2">
  <div class="field">
    Bodega destino:
    <p-dropdown
      [options]="listaBodegas"
      [(ngModel)]="bodegaSeleccionada"
      optionLabel="bdgDescripcion"
    ></p-dropdown>
  </div>

  <div class="field">
    <div class="grid">
      <div class="col">
        <div class="field flex align-items-center justify-content-center">
          <h3>Existencias</h3>
        </div>

        <div class="field">
          <div class="p-inputgroup w-full my-2">
            <span class="p-inputgroup-addon">
              <i class="pi pi-user"></i>
            </span>
            <input pInputText class="w-full" placeholder="Username" />
          </div>

          <p-table [value]="listaInventarios">
            <ng-template pTemplate="header">
              <tr>
                <th>Codigo</th>
                <th>Descripción</th>
                <th>Unds Disponibles</th>
                <th>Acciones</th>
              </tr>
            </ng-template>
            <ng-template pTemplate="body" let-inventario>
              <tr>
                <td>{{ inventario.producto.prdCodigo }}</td>
                <td>{{ inventario.producto.prdNombre }}</td>
                <td>{{ inventario.cantidadExistencia }}</td>
                <td>
                  <p-button
                    icon="pi pi-plus"
                    styleClass="p-button-rounded p-button-success"
                    (onClick)="activarModal(inventario)"
                  ></p-button>
                </td>
              </tr>
            </ng-template>
          </p-table>
        </div>
      </div>

      <div class="col">
        <div class="field flex align-items-center justify-content-center">
          <h3>Unidades a Trasladar</h3>
        </div>

        <div class="field">
          <div class="p-inputgroup w-full my-2">
            <span class="p-inputgroup-addon">
              <i class="pi pi-user"></i>
            </span>
            <input pInputText class="w-full" placeholder="Username" />
          </div>

          <p-table [value]="inventariosTabla">
            <ng-template pTemplate="header">
              <tr>
                <th>Codigo</th>
                <th>Descripción</th>
                <th>Unds Disponibles</th>
                <th>Acciones</th>
              </tr>
            </ng-template>
            <ng-template pTemplate="body" let-inventario>
              <tr>
                <td>{{ inventario.producto.prdCodigo }}</td>
                <td>{{ inventario.producto.prdNombre }}</td>
                <td>{{ inventario.cantidadExistencia }}</td>
                <td>
                  <p-button
                    icon="pi pi-plus"
                    styleClass="p-button-rounded p-button-success"
                    (onClick)="activarModal(inventario)"
                  ></p-button>
                </td>
              </tr>
            </ng-template>
          </p-table>
        </div>
      </div>
    </div>


  </div>
</div>
<p-toast></p-toast>

<p-dialog
  header="Header"
  [(visible)]="habilitarModal"
  [style]="{ width: '50vw' }"
>
  <ng-template pTemplate="header">
    <span class="text-xl font-bold">{{ inventarioSeleccionado.producto.prdNombre }}</span>
  </ng-template>
  <div>
    <label>Cantidad a trasladar</label>
    <p-inputNumber
      [(ngModel)]="inventarioSeleccionado.cantidadExistencia"
      [showButtons]="true"
      buttonLayout="horizontal"
      inputId="horizontal"
      spinnerMode="horizontal"
      decrementButtonClass="p-button-danger"
      incrementButtonClass="p-button-success"
      incrementButtonIcon="pi pi-plus"
      decrementButtonIcon="pi pi-minus"
      [max]="inventarioSeleccionado.undsMaximas"
    ></p-inputNumber>
  </div>
  <ng-template pTemplate="footer">
    <p-button
      icon="pi pi-check"
      (click)="habilitarModal = false"
      label="Ok"
      styleClass="p-button-text"
    ></p-button>
  </ng-template>
</p-dialog>
